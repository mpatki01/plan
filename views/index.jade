extends layout

block content
  h1= title
  p Welcome to #{title}
  ul(data-bind="foreach: tasks")
    li
        span(data-bind="text: name, click: edit, visible: !updatable()")
        input(data-bind="value: name, visible: updatable()")
        &nbsp;&nbsp;
        a(href="#", data-bind="visible: updatable(), click: save") save
        &nbsp;&nbsp;
        a(href="#", data-bind="click: $root.delete.bind($root)") delete
  hr
  form(data-bind="with: task")
    input(id="name", type="text", data-bind="value: name, valueUpdate: 'afterkeydown'")
    button(data-bind="click: add, enable: nameNotNull") Submit
    br
  label(id="msg")

block scripts
    script(src="/javascripts/jquery-1.10.2.min.js", type="text/javascript")
    script(src="/javascripts/knockout-3.0.0.js", type="text/javascript")
    script(src="/javascripts/index.js", type="text/javascript")
